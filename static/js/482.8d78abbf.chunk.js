"use strict";(self.webpackChunkhm=self.webpackChunkhm||[]).push([[482],{206:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(3216),i=s(5475),c=s(579);const n=()=>{const{pathname:e}=(0,a.zy)(),t=(0,a.Zp)();return console.log("Breadcrumbs rendered"),(0,c.jsxs)("div",{className:"bread",children:[(0,c.jsx)(i.N_,{to:"/",children:"Home"}),"/",(0,c.jsx)("button",{onClick:()=>t(-1),children:"Back"}),"/filter"!==e&&(0,c.jsxs)(c.Fragment,{children:["/",(0,c.jsx)(i.N_,{to:"/filter",children:"Filter"})]})]})}},2876:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(2555),i=s(5043);var c=s(9834),n=s(4705),r=s(589),l=s(579);const d=(0,i.memo)(e=>{let{on:t,off:s,type:d,product:o,sizeForCart:u}=e;const{isCheckId:h}={isCheckId:(0,i.useCallback)((e,t)=>e.some(e=>e.id===t.id),[])},m=(0,c.j)(),p=h((0,c.G)(e=>e.BadgeSlice[d].data),o),j=()=>d===r._.favorite?p?"bttn__link bttnFavoritesOff":"bttn__link bttnFavoritesOn":d===r._.compare?p?"bttn__link bttnCompareOn":"bttn__link bttnCompareOff":d===r._.cart?p?"bttnCartOff":"bttnCartOn":"";return p?(0,l.jsx)("button",{className:j(),onClick:()=>{m((0,n.Bi)(d)),m((0,n.W)({name:d,data:o}))},children:s}):(0,l.jsx)("button",{className:j(),"aria-label":d,onClick:()=>{m((0,n.zX)(d)),m((0,n.Zl)({name:d,data:(0,a.A)((0,a.A)({},o),{},{size:u})}))},children:t})})},7482:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(9834),i=s(1591),c=s(206),n=s(2555),r=s(5043),l=s(5475),d=s(2876);const o=e=>{let t=Math.trunc(e);return e<1e3&&(t=Math.trunc(e)),e>=1e3&&(t=Math.trunc(e).toString().slice(0,1)+" "+Math.trunc(e).toString().slice(1)),e>=1e4&&(t=Math.trunc(e).toString().slice(0,2)+" "+Math.trunc(e).toString().slice(2)),t};var u=s(589),h=s(579);const m=e=>{let{disabled:t,activeSize:s,setTotalInfo:a,totalInfo:i}=e;const c=s,[l,d]=(0,r.useState)(i[c]);(0,r.useEffect)(()=>{a((0,n.A)((0,n.A)({},i),{},{[c]:l}))},[l]),(0,r.useEffect)(()=>{d(i[c])},[s]);return(0,h.jsxs)("div",{className:"counter",children:[(0,h.jsx)("button",{disabled:t||l<=1,className:"left",onClick:()=>d(e=>e>1?e-1:e=1),children:"-"}),(0,h.jsx)("input",{disabled:t,type:"number",value:t?1:Number(l).toString(),onChange:e=>(e=>{Number(e.target.value)<=0?d(1):Number(e.target.value)<=30?d(Number(e.target.value)):d(30)})(e)}),(0,h.jsx)("button",{disabled:t||l>=30,className:"right",onClick:()=>d(e=>e<30?e+1:e=30),children:"+"})]})},p=e=>{let{size:t,setDisabledCounter:s,setActiveSize:a,activeSize:i}=e;const[c,n]=(0,r.useState)(!1);return(0,h.jsxs)("div",{className:"dropdown",children:[(0,h.jsxs)("button",{className:c?"dropdown-bttn active":"dropdown-bttn",onClick:()=>n(!c),children:[i||"Size",c?(0,h.jsx)(h.Fragment,{children:" \u21e7"}):(0,h.jsx)(h.Fragment,{children:" \u21e9"})]}),c&&(0,h.jsx)("div",{className:"dropdown-content",children:null===t||void 0===t?void 0:t.map(e=>(0,h.jsx)("button",{className:"dropdown-content-bttn",onClick:()=>{s(!1),a(e),n(!c)},children:e},e))})]})},j=e=>{let{product:t,setPrice:s,totalPrice:a}=e;const{alt_description:i,id:c,urls:j,price:x,size:b}=t,[v,f]=(0,r.useState)(!0),[N,g]=(0,r.useState)({S:0,M:0,L:0,XL:0,XXL:0}),[S,_]=(0,r.useState)(""),C=(0,r.useMemo)(()=>Object.values(N).reduce((e,t)=>e+t,0)*(null!==x&&void 0!==x?x:0),[N,x]);(0,r.useEffect)(()=>{(()=>{const e={};null===b||void 0===b||b.forEach(t=>{e[t]=1}),g(e)})()},[]),(0,r.useEffect)(()=>{s(e=>(0,n.A)((0,n.A)({},e),{},{[c]:C}))},[C,c,s]);return(0,h.jsxs)("div",{className:"cart__product",children:[(0,h.jsx)(l.N_,{to:"/product/".concat(c),children:(0,h.jsx)("img",{className:"img",src:j.regular,alt:i})}),(0,h.jsxs)("div",{className:"information",children:[(0,h.jsx)("p",{children:i}),(0,h.jsxs)("p",{children:[x," $/o\u0441"]})]}),(0,h.jsxs)("div",{className:"selectSize",children:[(0,h.jsx)(p,{size:b,setActiveSize:_,activeSize:S,setDisabledCounter:f}),(0,h.jsx)(m,{disabled:v,activeSize:S,setTotalInfo:g,totalInfo:N})]}),(0,h.jsx)("div",{className:"totalPrice",children:(0,h.jsxs)("span",{children:[o(C)," $"]})}),(0,h.jsxs)("div",{className:"additionalOptions",onClick:e=>((e,t)=>{if(e.target.classList.contains("bttnCartOff")){var i;const e=null!==(i=a[t])&&void 0!==i?i:0;s(s=>(0,n.A)((0,n.A)({},s),{},{[t]:C-e}))}})(e,c),children:[(0,h.jsx)(d.A,{type:u._.favorite,product:t}),(0,h.jsx)(d.A,{type:u._.cart,product:t})]})]})},x=e=>{let{totalPrice:t}=e;const[s,a]=(0,r.useState)(""),i=Object.values(t).reduce((e,t)=>e+t,0),c="gift"===s,n=c?.9*i:i;return(0,h.jsxs)("div",{className:"priceWrap",children:[(0,h.jsx)("div",{className:"priceWrap__section",children:(0,h.jsx)("h4",{children:"Summary"})}),(0,h.jsxs)("div",{className:"priceWrap__gift",children:["Gift code:",(0,h.jsx)("input",{placeholder:"gift",type:"text",value:s,onChange:e=>a(e.target.value)})]}),(0,h.jsxs)("div",{className:"priceWrap__grid",children:["Discount:",(0,h.jsx)("p",{className:"discount",children:c?"10%":"0%"}),"Total:",(0,h.jsxs)("p",{children:[(0,h.jsxs)("span",{className:c?"line smallSize":"bigSize",children:[o(i)," $"]}),c&&(0,h.jsxs)("span",{className:"bigSize",children:[o(n)," $"]})]})]}),(0,h.jsx)("button",{className:"priceWrap__bttn",children:"Buy now"})]})},b=()=>{const e=(0,a.G)(e=>e.BadgeSlice.cart.data),[t,s]=(0,r.useState)({});return console.log("render price Section"),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.m,{children:(0,h.jsx)("title",{children:"Cart products"})}),(0,h.jsx)(c.A,{}),(0,h.jsx)("h2",{className:"pageName",children:"Cart"}),e.length?(0,h.jsxs)("div",{className:"carts",children:[(0,h.jsx)("div",{className:"cart",children:e.map(e=>(0,h.jsx)(j,{product:e,totalPrice:t,setPrice:s},e.id))}),(0,h.jsx)(x,{totalPrice:t})]}):(0,h.jsx)("h3",{className:"pageEmpty",children:"Cart list is empty"})]})}}}]);
//# sourceMappingURL=482.8d78abbf.chunk.js.map